{{- with .Values.positionSource }}
{{- if .enabled }}
{{- with .settingsYaml }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: position-source-config
data:
  settings.yaml: |
    {{- toYaml . | nindent 4 }}
---
{{- end }}
{{- with .gpsdSidecar }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: position-source-gpsd-config
data:
  entrypoint.sh: |-
    {{- .entrypointSh | nindent 4 }}
---
{{- end }}
{{- end }}
{{- end }}